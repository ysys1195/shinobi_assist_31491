<div class="wrap-char-form" id="form-bg<%= num %>">
  <div class="form-background"></div>
  <div class="char-form">
    <%= form_with model: @character_info, url: room_characters_path(room_token: token), local: true do |f| %>
      <div class="form-title">
          キャラクター情報登録
        </div>
      <div class="form-contents">
        <% if flash[:error] && flash[:num] == num %>
          <div class="error-msg">
            <ul>
            <% flash[:error].each do |message| %>
              <% case message %>
              <% when "Character nameを入力してください" %>
              <li><%= "キャラクター名を入力してください。" %></li>
              <% when "Secretを入力してください" %>
              <li><%= "秘密を入力してください。" %></li>
              <% when "Last resortを入力してください" %>
              <li><%= "奥義を入力してください。" %></li>
              <% end %>
            <% end %>
            </ul>
          </div>
        <% end %>
        <div class="field">
          <%= f.label "キャラクター名" %><span class="required-items"> 必須</span><br />
          <%= f.text_field :character_name, placeholder: "キャラクター名を入力", class: "character_box", id: "accn-#{num}" %>
        </div>
        <div class="field">
          <%= f.label "秘密" %><span class="required-items"> 必須</span><br />
          <%= f.text_area :secret, placeholder: "秘密を入力", class: "long_text_box", id: "acs-#{num}" %>
        </div>
        <div class="field">
          <%= f.label "奥義" %><span class="required-items"> 必須</span><br />
          <%= f.text_area :last_resort, placeholder: "奥義を入力", class: "long_text_box2", id: "aclr-#{num}" %>
        </div>
        <%= f.hidden_field :pc_number, value: num, id: "acpn-#{num}" %>
        <%= f.hidden_field :secret_n, value: 1, id: "acsn-#{num}" %>
        <%= f.hidden_field :last_resort_n, value: 1, id: "aclrn-#{num}" %>
        <button class="add-btn add-character">
          <%= f.submit "追加" %>
        </button>
      </div>
    <% end %>
  </div>
</div>